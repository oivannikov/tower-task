{"version":3,"sources":["redux/types.js","redux/rootReducer.js","components/Modal/Modal.jsx","components/SelectedUser/SelectedUser.jsx","components/Pagination/Pagination.jsx","api/users.js","App.jsx","redux/actions.js","index.js"],"names":["SET_USERS","initialState","users","Modal","active","setActive","children","className","onClick","e","stopPropagation","SelectedUser","currentUser","name","desc","surname","type","required","value","Pagination","countPages","handleCurrentPage","currentPage","pageNumbers","i","push","map","number","classNames","BASE_URL","a","fetch","response","json","result","App","useState","modalActive","setModalActive","setCurrentPage","setCurrentUser","activeSlide","setActiveSlide","useSelector","state","dispatch","useDispatch","useEffect","getUsers","then","payload","actionSetUsers","timerId","setInterval","prevState","clearInterval","Math","ceil","length","indexOfLastUser","indexOfFirstUser","usersSlider","slice","user","key","id","content","handleCurrentUser","slides","goToSlide","offsetRadius","store","createStore","action","ReactDOM","render","document","getElementById"],"mappings":"kQAAaA,EAAY,YCEnBC,EAAe,CACnBC,MAAO,I,aCGF,SAASC,EAAT,GAAgD,IAA/BC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,UAAWC,EAAW,EAAXA,SACzC,OACE,qBAAKC,UAAWH,EAAS,eAAiB,QAASI,QAAS,kBAAMH,GAAU,IAA5E,SACE,qBAAKE,UAAWH,EAAS,wBAA0B,QAASI,QAAS,SAACC,GAAD,OAAOA,EAAEC,mBAA9E,SACGJ,M,MCNF,SAASK,EAAT,GAAmD,IAA3BN,EAA0B,EAA1BA,UAAWO,EAAe,EAAfA,YAChCC,EAAwBD,EAAxBC,KAAMC,EAAkBF,EAAlBE,KAAMC,EAAYH,EAAZG,QAEpB,OACE,sBAAKR,UAAU,OAAf,UAEE,sBAAKA,UAAU,qBAAf,UACE,sBAAKA,UAAU,sBAAf,UACE,qBAAKA,UAAU,kBAAf,SACE,uBACES,KAAK,OACLC,UAAQ,EACRC,MAAOL,MAIX,qBAAKN,UAAU,qBAAf,SACE,uBACES,KAAK,OACLE,MAAOH,EACPE,UAAQ,SAKd,qBAAKV,UAAU,yBAAf,SACE,4BAAIO,SAIR,qBAAKP,UAAU,oBAAf,SACE,wBAAQA,UAAU,oBAAoBC,QAAS,kBAAMH,GAAU,IAA/D,yB,2BC7BD,SAASc,EAAT,GAGL,IAH0E,IAA/CC,EAA8C,EAA9CA,WAAYC,EAAkC,EAAlCA,kBAAmBC,EAAe,EAAfA,YACpDC,EAAc,GAEXC,EAAI,EAAGA,GAAKJ,EAAYI,IAC/BD,EAAYE,KAAKD,GAGnB,OACE,oBAAIjB,UAAU,aAAd,SAEEgB,EAAYG,KAAI,SAAAC,GAAM,OACpB,mCACE,oBAAIpB,UAAWqB,IAAW,mBAAoB,CAACxB,OAAQuB,IAAWL,IAAed,QAAS,kBAAMa,EAAkBM,IAAlH,SACE,mBAAGpB,UAAU,wBAAb,SAAsCoB,KADwFA,U,8CClBpIE,EAAW,6E,4CAEV,gCAAAC,EAAA,sEACkBC,MAAM,GAAD,OAAIF,IAD3B,cACCG,EADD,gBAEgBA,EAASC,OAFzB,cAECC,EAFD,gBAGeA,EAAOhC,MAHtB,cAGCA,EAHD,yBAKEA,GALF,6C,4BC+EQiC,MAlEf,WAAgB,IAAD,EACyBC,oBAAS,GADlC,mBACNC,EADM,KACOC,EADP,OAEyBF,mBAAS,GAFlC,mBAENd,EAFM,KAEOiB,EAFP,OAGyBH,mBAAS,IAHlC,mBAGNxB,EAHM,KAGO4B,EAHP,OAIyBJ,mBAAS,GAJlC,mBAINK,EAJM,KAIOC,EAJP,KAMPxC,EAAQyC,aAAY,SAAAC,GAAK,OAAIA,EAAM1C,SACnC2C,EAAWC,cAEjBC,qBAAU,YDtBL,WAAP,gCCuBIC,GACGC,MAAK,SAAA/C,GAAK,OAAI2C,ECxBd,SAAwB3C,GAC7B,MAAO,CACLc,KAAMhB,EACNkD,QAAShD,GDqBiBiD,CAAejD,SACxC,IAEH6C,qBAAU,WACR,IAAIK,EAQJ,OANKf,IACHe,EAAUC,aAAY,WACpBX,GAAe,SAAAY,GAAS,OAAIA,EAAY,OACvC,MAGE,kBAAMC,cAAcH,MAC1B,CAAC9B,EAAae,IAEjB,IACMjB,EAAaoC,KAAKC,KAAKvD,EAAMwD,OADd,GAEfC,EAFe,EAEGrC,EAClBsC,EAAmBD,EAHJ,EAiBfE,EAbe3D,EAAM4D,MAAMF,EAAkBD,GAalBjC,KAAI,SAAAqC,GAAI,MAAK,CAC5CC,IAAKD,EAAKE,GACVC,QACE,oBAAI3D,UAAU,YAAd,SACGwD,EAAKlD,OAGVL,QAAS,kBAlBX,SAA2BuD,GACzBvB,EAAeuB,GACfzB,GAAe,GAgBA6B,CAAkBJ,QAGnC,OACE,sBAAKxD,UAAU,MAAf,UACE,cAAC,IAAD,CAAU6D,OAAQP,EAAaQ,UAAW5B,EAAa6B,aAAc,IAErE,cAAC,EAAD,CAAOlE,OAAQiC,EAAahC,UAAWiC,EAAvC,SACE,cAAC,EAAD,CAAcjC,UAAWiC,EAAgB1B,YAAaA,MAGxD,cAAC,EAAD,CAAYQ,WAAYA,EAAYC,kBAvBxC,SAA2BM,GACzBY,EAAeZ,GACfe,EAAe,IAqB6DpB,YAAaA,QEnEvFiD,EAAQC,aPHa,WAAmC,IAAlC5B,EAAiC,uDAAzB3C,EAAcwE,EAAW,uCAC3D,OAAQA,EAAOzD,MACb,KAAKhB,EACH,OAAO,2BACF4C,GADL,IAEE1C,MAAOuE,EAAOvB,UAElB,QAAS,OAAON,MOFpB8B,IAASC,OACP,cAAC,IAAD,CAAUJ,MAAOA,EAAjB,SACE,cAAC,EAAD,MAEFK,SAASC,eAAe,W","file":"static/js/main.4b41fa6a.chunk.js","sourcesContent":["export const SET_USERS = \"SET_USERS\";\n","import { SET_USERS } from \"./types\";\n\nconst initialState = {\n  users: [],\n}\n\nexport const rootReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USERS:\n      return {\n        ...state,\n        users: action.payload,\n      }\n    default: return state;\n  }\n}\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport './Modal.scss';\n\nexport function Modal({ active, setActive, children}) {\n  return (\n    <div className={active ? 'modal active' : 'modal'} onClick={() => setActive(false)} >\n      <div className={active ? 'modal__content active' : 'modal'} onClick={(e) => e.stopPropagation()} >\n        {children}\n      </div>\n    </div>    \n  );\n}\n\nModal.propTypes = {\n  active: PropTypes.bool.isRequired,\n  setActive: PropTypes.func.isRequired,\n}\n","import React from 'react';\n\nimport '../SelectedUser//SelectedUser.scss';\n\nexport function SelectedUser({ setActive, currentUser }) {\n  const { name, desc, surname } = currentUser;\n\n  return (\n    <div className=\"info\">\n\n      <div className=\"info__user-content\">\n        <div className=\"info__user-fullname\">\n          <div className=\"info__user-name\">\n            <input  \n              type=\"text\"\n              required\n              value={name}\n            />\n          </div>\n\n          <div className=\"info__user-surname\">\n            <input\n              type=\"text\"\n              value={surname}\n              required\n            />\n          </div>\n        </div>\n\n        <div className=\"info__user-description\">\n          <p>{desc}</p>\n        </div>\n      </div>\n    \n      <div className=\"info__user-button\">\n        <button className=\"info__user-cancel\" onClick={() => setActive(false)}>Cancel</button>\n      </div>\n    </div>\n  );\n} ","import React from 'react';\n\nimport classNames from 'classnames';\n\nimport '../Pagination/Pagination.scss'\n\nexport function Pagination({ countPages, handleCurrentPage, currentPage }) {\n  const pageNumbers = [];\n\n  for (let i = 1; i <= countPages; i++) {\n    pageNumbers.push(i);\n  }\n\n  return (\n    <ul className=\"pagination\">\n    {\n      pageNumbers.map(number => (\n        <>\n          <li className={classNames('pagination__page', {active: number === currentPage})} onClick={() => handleCurrentPage(number)} key={number}>\n            <a className=\"pagination__page-link\">{number}</a>\n          </li>\n        </>\n      ))\n    }\n    </ul>\n  );\n}","const BASE_URL = \"https://raw.githubusercontent.com/oivannikov/tower-task/api/api/users.json\";\n\nexport async function getUsers() {\n  const response = await fetch(`${BASE_URL}`);\n  const result = await response.json();\n  const users = await result.users;\n\n  return users;\n}\n","import React, { useState, useEffect } from 'react';\n\nimport { actionSetUsers } from './redux/actions';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { Modal } from './components/Modal/Modal';\nimport { SelectedUser } from './components/SelectedUser/SelectedUser';\nimport { Pagination } from './components/Pagination/Pagination';\n\nimport Carousel from 'react-spring-3d-carousel';\n\nimport { getUsers } from './api/users';\n\nimport './App.scss';\n\nfunction App() {\n  const [modalActive, setModalActive] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [currentUser, setCurrentUser] = useState({});\n  const [activeSlide, setActiveSlide] = useState(0);\n\n  const users = useSelector(state => state.users);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    getUsers()\n      .then(users => dispatch(actionSetUsers(users)));\n  }, []);\n\n  useEffect(() => {\n    let timerId;\n\n    if (!modalActive) {\n      timerId = setInterval(() => {\n        setActiveSlide(prevState => prevState + 1);\n      }, 2000);\n    }\n\n    return () => clearInterval(timerId);\n  }, [currentPage, modalActive]);\n\n  const usersPerPage = 5;\n  const countPages = Math.ceil(users.length / usersPerPage);\n  const indexOfLastUser = currentPage * usersPerPage;\n  const indexOfFirstUser = indexOfLastUser - usersPerPage;\n  const currentUsers = users.slice(indexOfFirstUser, indexOfLastUser);\n\n  function handleCurrentUser(user) {\n    setCurrentUser(user);\n    setModalActive(true);\n    \n  }\n\n  function handleCurrentPage(number) {\n    setCurrentPage(number);\n    setActiveSlide(0);\n  }\n\n  const usersSlider = currentUsers.map(user => ({\n    key: user.id,\n    content: (\n      <li className=\"app__user\">\n        {user.name}\n      </li>\n    ),\n    onClick: () => handleCurrentUser(user),\n  }));\n\n  return (\n    <div className=\"app\">\n      <Carousel slides={usersSlider} goToSlide={activeSlide} offsetRadius={2} />\n\n      <Modal active={modalActive} setActive={setModalActive} >\n        <SelectedUser setActive={setModalActive} currentUser={currentUser} />\n      </Modal>\n\n      <Pagination countPages={countPages} handleCurrentPage={handleCurrentPage} currentPage={currentPage} />\n    </div>\n  );\n}\n\nexport default App;\n","import { SET_USERS } from \"./types\";\n\nexport function actionSetUsers(users) {\n  return {\n    type: SET_USERS,\n    payload: users,\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport { rootReducer } from './redux/rootReducer';\n\nimport App from './App';\n\nconst store = createStore(rootReducer);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}