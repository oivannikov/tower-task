{"version":3,"sources":["redux/types.js","redux/rootReducer.js","components/Modal/Modal.jsx","components/SelectedUser/SelectedUser.jsx","components/Pagination/Pagination.jsx","api/users.js","App.jsx","redux/actions.js","index.js"],"names":["SET_USERS","initialState","users","Modal","active","setActive","children","className","onClick","e","stopPropagation","SelectedUser","currentUser","name","desc","surname","type","required","value","Pagination","countPages","handleCurrentPage","currentPage","handlePrevPage","handleNextPage","pageNumbers","i","push","map","number","classNames","BASE_URL","a","fetch","response","json","result","App","useState","setCurrentUser","setCurrentPage","activeSlide","setActiveSlide","modalActive","setModalActive","useSelector","state","dispatch","useDispatch","useEffect","getUsers","then","payload","actionSetUsers","timerId","setInterval","prevState","clearInterval","Math","ceil","length","indexOfLastUser","indexOfFirstUser","usersSlider","slice","user","key","id","content","handleCurrentUser","slides","goToSlide","offsetRadius","store","createStore","action","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.61435583.chunk.js","sourcesContent":["export const SET_USERS = \"SET_USERS\";\n","import { SET_USERS } from \"./types\";\n\nconst initialState = {\n  users: [],\n}\n\nexport const rootReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USERS:\n      return {\n        ...state,\n        users: action.payload,\n      }\n    default: return state;\n  }\n}\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport './Modal.scss';\nexport function Modal({ active, setActive, children }) {\n  return (\n    <div className={active ? 'modal active' : 'modal'} onClick={() => setActive(false)} >\n      <div className={active ? 'modal__content active' : 'modal'} onClick={(e) => e.stopPropagation()} >\n        {children}\n      </div>\n    </div>    \n  );\n}\n\nModal.propTypes = {\n  active: PropTypes.bool.isRequired,\n  setActive: PropTypes.func.isRequired,\n}\n","import React from 'react';\n\nimport PropTypes from 'prop-types'\n\nimport './SelectedUser.scss';\n\nexport function SelectedUser({ setActive, currentUser }) {\n  const { name, desc, surname } = currentUser;\n\n  return (\n    <div className=\"info\">\n      <div className=\"info__user-content\">\n        <div className=\"info__user-fullname\">\n\n          <div className=\"info__user-name\">\n            <input  \n              type=\"text\"\n              required\n              value={name}\n            />\n          </div>\n\n          <div className=\"info__user-surname\">\n            <input\n              type=\"text\"\n              value={surname}\n              required\n            />\n          </div>\n  \n        </div>\n        <div className=\"info__user-description\">\n          <p>{desc}</p>\n        </div>\n\n      </div>\n      <div className=\"info__user-button\">\n        <button className=\"info__user-cancel\" onClick={() => setActive(false)}>Cancel</button>\n      </div>\n    </div>\n  );\n}\n\nSelectedUser.propTypes = {\n  currentUser: PropTypes.object.isRequired,\n  setActive: PropTypes.func.isRequired,\n}\n","import React, { Fragment } from 'react';\n\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport './Pagination.scss'\n\nexport function Pagination({ countPages, handleCurrentPage, currentPage, handlePrevPage, handleNextPage }) {\n  const pageNumbers = [];\n\n  for (let i = 1; i <= countPages; i++) {\n    pageNumbers.push(i);\n  }\n\n  return (\n    <div className=\"pagination\">\n      <span className=\"pagination__prev\" onClick={() => handlePrevPage()}>Prev</span>\n      <ul>\n      {\n        pageNumbers.map(number => (\n          <Fragment key={number}>\n            <li\n              className={classNames('pagination__page', {active: number === currentPage})}\n              onClick={() => handleCurrentPage(number)}\n            >\n              <span className=\"pagination__page-number\">{number}</span>\n            </li>\n          </Fragment>\n        ))\n      }\n      </ul>\n      <span className=\"pagination__next\" onClick={() => handleNextPage()}>Next</span>\n    </div>\n  );\n}\n\nPagination.propTypes = {\n  countPages: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  handleCurrentPage: PropTypes.func.isRequired,\n  handlePrevPage: PropTypes.func.isRequired,\n  handleNextPage: PropTypes.func.isRequired,\n}\n","const BASE_URL = \"https://raw.githubusercontent.com/oivannikov/tower-task/api/\";\n\nexport async function getUsers() {\n  const response = await fetch(`${BASE_URL}api/users.json`);\n  const result = await response.json();\n  const users = await result.users;\n\n  return users;\n}\n","import React, { useState, useEffect } from 'react';\n\nimport { actionSetUsers } from './redux/actions';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { Modal } from './components/Modal/Modal';\nimport { SelectedUser } from './components/SelectedUser/SelectedUser';\nimport { Pagination } from './components/Pagination/Pagination';\n\nimport Carousel from 'react-spring-3d-carousel';\n\nimport { getUsers } from './api/users';\n\nimport './App.scss';\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState({});\n  const [currentPage, setCurrentPage] = useState(1);\n  const [activeSlide, setActiveSlide] = useState(0);\n  const [modalActive, setModalActive] = useState(false);\n\n  const users = useSelector(state => state.users);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    getUsers()\n      .then(users => dispatch(actionSetUsers(users)));\n  }, []);\n\n  useEffect(() => {\n    let timerId = null;\n\n    if (!modalActive) {\n      timerId = setInterval(() => {\n        setActiveSlide(prevState => prevState + 1);\n      }, 8000);\n    }\n\n    return () => clearInterval(timerId);\n  }, [currentPage, modalActive]);\n\n  const usersPerPage = 5;\n  const countPages = Math.ceil(users.length / usersPerPage);\n  const indexOfLastUser = currentPage * usersPerPage;\n  const indexOfFirstUser = indexOfLastUser - usersPerPage;\n  const currentUsers = users.slice(indexOfFirstUser, indexOfLastUser);\n\n  const usersSlider = currentUsers.map(user => ({\n    key: user.id,\n    content: (\n      <li className=\"app__user\">\n        {user.name}\n      </li>\n    ),\n    onClick: () => handleCurrentUser(user),\n  }));\n\n  function handleCurrentUser(user) {\n    setCurrentUser(user);\n    setModalActive(true);\n  }\n\n  function handleCurrentPage(number) {\n    setCurrentPage(number);\n    setActiveSlide(0);\n  }\n\n  function handlePrevPage() {\n    if (currentPage > 1) {\n      setCurrentPage(prevState => prevState - 1);\n    }\n  }\n\n  function handleNextPage() {\n    if (currentPage < countPages) {\n      setCurrentPage(prevState => prevState + 1);\n    }\n  }\n\n  return (\n    <div className=\"app\">\n      <Carousel slides={usersSlider} goToSlide={activeSlide} offsetRadius={2} />\n\n      <Modal active={modalActive} setActive={setModalActive} >\n        <SelectedUser setActive={setModalActive} currentUser={currentUser} />\n      </Modal>\n\n      <Pagination\n        countPages={countPages}\n        handleCurrentPage={handleCurrentPage}\n        currentPage={currentPage}\n        handleNextPage={handleNextPage}\n        handlePrevPage={handlePrevPage}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import { SET_USERS } from \"./types\";\n\nexport function actionSetUsers(users) {\n  return {\n    type: SET_USERS,\n    payload: users,\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport { rootReducer } from './redux/rootReducer';\n\nimport App from './App';\n\nconst store = createStore(rootReducer);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}